<!--
  Generated template for the ProfilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-buttons left>
      <button ion-button icon-only *ngIf="!user_id" (click)="goToSettingPage()">
        <ion-icon name="cog"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>{{user_id?(user?.first_name+' '+user?.last_name):'profile'}}</ion-title>
  </ion-navbar>

</ion-header>
<ion-content>
  <ion-grid>
    <ion-row class="user-info">
      <ion-col class="user-general-info">
        <ion-row class="user-general-info-wrapper">
          <ion-col class="user-general-img" col-auto>
            <ion-img src="{{user?.avatar}}">
            </ion-img>
          </ion-col>
          <ion-col class="user-general-name">
            <h2 class="first-name">
              {{user?.first_name}}
            </h2>
            <h2 class="last-name">
              {{user?.last_name}}
            </h2>
            <h4 class="position">
              {{user?.position}}
            </h4>
          </ion-col>
        </ion-row>
      </ion-col>
      <ion-col class="user-general-level" col-auto>
        <div>
          <label>
            level
          </label>
          <h4 class="level">
            {{user?.level}}
          </h4>
        </div>
      </ion-col>
    </ion-row>
    <ion-row class="user-stats">
      <ion-col>
        <ion-icon color='secondary' name="md-send">
        </ion-icon>
        <label>
          assist
        </label>
        <p>
          {{user?.assists}}
        </p>
      </ion-col>
      <ion-col>
        <ion-icon color='secondary' block name="ios-football-outline">
        </ion-icon>
        <label>
          scored
        </label>
        <p>
          {{user?.goals}}
        </p>
      </ion-col>
      <ion-col class="mvp">
        <div class="mvp-wrapper">
          <ion-icon name="star">
          </ion-icon>
          <label>
            MVP
          </label>
          <p>
            {{user?.mvp}}
          </p>
        </div>
      </ion-col>
      <ion-col>
        <ion-icon color='yellow' block name="md-albums">
        </ion-icon>
        <label>
          YC
        </label>
        <p>
          {{user?.yellow_cards}}
        </p>
      </ion-col>
      <ion-col>
        <ion-icon color='danger' block name="md-albums">
        </ion-icon>
        <label>
          RC
        </label>
        <p>
          {{user?.red_cards}}
        </p>
      </ion-col>
    </ion-row>
    <h4>
      teams
    </h4>
    <ion-row class="teams">
      <ion-col>
        <ion-slides slidesPerView="2">
          <ion-slide *ngFor="let team of user?.teams"
                     (click)="goToTeamProfilePage(user.team_id)">
            <div class="team">
              <img src="{{team[3]}}">
              <div class="info">
                <p>
                  {{team[1]}}
                </p>
                <span>
                  {{team[2] | slice :0:3}}
                </span>
              </div>
            </div>
          </ion-slide>
        </ion-slides>
      </ion-col>
    </ion-row>
    <h4>
      games
    </h4>
    <ion-row class="games">
      <ion-col>
        <ion-card *ngFor="let game of user?.games"
                  (click)="goToGamePage(game.id)">
          <ion-grid>
            <ion-row>
              <ion-col class="game-image" col-auto="">
                <img height="30" width="30" src="{{game.venue_avatar}}">
              </ion-col>
              <ion-col class="game-info">
                <p class="venue-name">
                  {{game.venue_name}}
                </p>
                <p class="venue-info">
                  <span class="size">
                    {{game.venue_size}}
                  </span>
                  <span class="type">
                    {{game.venue_type}}
                  </span>
                  <span class="localization">
                    {{game.venue_localization}}
                  </span>
                </p>
              </ion-col>
              <ion-col class="game-time" col-auto="">
                <span class="date">
                  {{game.start | date:"mediumDate"}}
                </span>
                <span class="time">
                  {{game.start_time}}
                </span>
              </ion-col>
            </ion-row>
            <ion-row class="teams">
              <ion-col class="game-teams left">
                <div class="team-img">
                  <img src="{{game.team_1_avatar}}">
                </div>
                <div class="team-info">
                  <p class="team-name">
                    {{game.team_1_name}}
                  </p>
                  <p class="team-category">
                    {{game.team_1_category}}
                  </p>
                </div>
              </ion-col>
              <ion-col align-self-center col-auto="" class="game-vs">
                <span>
                  {{game.team_1_score}}
                </span>
                VS
                <span>
                  {{game.team_2_score}}
                </span>
              </ion-col>
              <ion-col class="game-teams right">
                <div class="team-img">
                  <img src="{{game.team_2_avatar}}">
                </div>
                <div class="team-info">
                  <p class="team-name">
                    {{game.team_2_name}}
                  </p>
                  <p class="team-category">
                    {{game.team_2_category}}
                  </p>
                </div>
              </ion-col>
            </ion-row>
            <ion-row class="stats">
              <ion-col>
                <label>
                  Personal stats
                </label>
                <div class="stats-icon">

                </div>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>

